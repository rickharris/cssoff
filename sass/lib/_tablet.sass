/*
 * orignal file - sass/lib/_tablet.sass
 *
 * # Table of Contents
 *   1. Patterns
 *   2. Header
 *   3. Obstacles
 *   4. Prizes
 *   5. Signup
 *   6. Footer
 */


+respond-to(tablets)

  /* 1. Patterns
   *    -------- */
  h2, .h2
    +adjust-font-size-to(40px)

  .column
    padding-left: $gutter-width

  .checkered
    float: left
    padding-right: 23px
    position: relative
    &:after
      content: ""
      width: 940px
      height: 100%
      background: image-url("patterns/yellow-checker.png") repeat-x 0 7px
      position: absolute
      top: 0
      left: 100%
    & + *
      clear: left

  .section
    padding-top: 36px
    padding-bottom: 36px
    section
      overflow: hidden
      h2
        @extend .checkered
        margin-bottom: 36px

  .box
    background: none
    .no-rgba &
      background: none


  /* 2. Header
   *    ------ */
  /* Give the header big 'splat' image */
  .page-header
    background: image-url('header-splat.png') no-repeat 50% 50%
    +background-size(cover)

  .page-header-inner
    h2
      text-shadow: 1px 3px 0 #f2f2f2
    p
      padding: 0
      small
        font-size: 18px


  /* 3. Obstacles
   *    --------- */
  /* Show the full obstacle layout */
  #obstacles
    @extend .clearfix
    section
      overflow: hidden
    nav,
    .content
      @extend .column
      +column-width(4)
    nav
      @extend .column
      +column-width(4)
      display: block
      padding-left: 0 /* Override the column class default spacing */
      ul
        padding-left: 0
      li
        margin-bottom: $gutter-width
      a
        display: block
        padding: 16px
        +background-pattern(green)
        +border-radius(4px)
        text-align: center
        color: #fff
        text-decoration: none
        +transition-property(background-color color)
        +transition-duration(0.2s)
        &:hover
          background-color: lighten(color-palette(green), 3%)
        &.active
          +background-pattern(yellow)
          color: color-palette(orange)

    .content
      @extend .column
      +column-width(8)
      position: relative

    .obstacle
      position: relative
      z-index: 1
      display: none
      &.active
        display: block
      .cssanimations &
        display: block
        position: absolute
        /* Set all offsets to 0 to stretch to full width/height */
        left: 0
        right: 0
        top: 0
        bottom: 0
        opacity: 0
        +transform(translateZ(0)) /* Fixes weird font transition during animation in webkit */
        padding: 0
        &.active
          @extend .animated
          @extend .fadeInLeft
          +experimental(animation-duration, 0.6s)
          opacity: 1
          z-index: 2
        &.hidden
          @extend .animated
          @extend .fadeOutUp
          +experimental(animation-duration, 0.6s)
      .copy
        position: relative
        padding: 55px 0
        max-height: 96px
        &:after
          content: ""
          display: block
          @extend .sprite-slime
          position: absolute
          z-index: 1
          top: 0
          left: 50%
          margin-left: -130px
      h3,
      p
        +transform(rotate(-9deg))
        font-style: italic
        letter-spacing: 2px
        position: relative
        z-index: 2
        text-shadow: 2px 4px 0 rgba(0, 0, 0, 0.2)
        .no-csstransforms &
          font-style: normal
      h3
        +adjust-font-size-to(30px)
        margin-bottom: 0
      p
        display: block
        +adjust-font-size-to(16px)
      img
        max-height: 230px


  /* 4. Prizes
   *    ------ */
  #prizes
    li
      @extend .column
      +column-width(6)
      padding: $gutter-width * 2
      &:first-child
        margin-bottom: 100px - ($gutter-width * 2)
      &:nth-child(3)
        clear: left
      &:last-child
        margin-top: -201px
      h3
        margin-bottom: 0
      img
        max-height: none


  /* 5. Signup
   *    ------ */
  #be-a-contestant
    margin-bottom: $base-line-height * 3
    form
      margin-bottom: $base-line-height * 2.5
    .team-color
      @extend .column
      +column-width(8)
      padding-left: 0
    .gender
      @extend .column
      +column-width(4)
    .photo
      clear: both
    .form-submit
      margin-top: $base-line-height * 1.5

    .the-clock
      .clock
        display: inline-block
        margin-right: 50px
      p
        +adjust-font-size-to(40px)
        display: inline-block


  /* 6. Footer
   *    ------ */
  .vcard
    @extend .clearfix
    h2
      clear: both
    p
      @extend .column
      width: 300px
      margin-bottom: $base-line-height * 1.5
    /* first paragraph is left column, right-justified */
    h2 + p
      text-align: right
      padding-right: $gutter-width / 2
      float: right
      margin-right: 50%
    /* second paragraph is right column, left-aligned, but we have to add a
     * negative margin because the two floats don't fit on the same line
     * with the 50% side-margins */
    p + p
      text-align: left
      padding-left: $gutter-width / 2
      margin-left: 50%
      margin-top: -($base-line-height * 1.5) - (18px * 3)
    .address
      width: 180px
      margin-bottom: 12px
    .address + .address
      margin-top: -12px - (18px * 2)
